<?xml version="1.0" encoding="utf-8"?>
<openerp>
	<data>
		<record model="ir.ui.view" id="view_create_job_form"> 
		    <field name="name">create.job.form</field>
		    <field name="model">create.job</field>
		    <field name="type">form</field>
		    <field name="arch" type="xml">
				<form string="Jobs" version="8.0">
					<header>
						<button name="status_provisional" type="object" String="Provisional" attrs="{'invisible': [('status','in',('prov'))]}" class="oe_highlight"/>

						<button name="status_duein" type="object" String="Due In" attrs="{'invisible': [('status','in',('due'))]}" class="oe_highlight"/>

						<button name="status_arr" type="object" String="Arrived" attrs="{'invisible': [('status','in',('arr'))]}" class="oe_highlight"/>

						<button name="status_in" type="object" String="In Progress" attrs="{'invisible': [('status','in',('in'))]}" class="oe_highlight"/>

						<button name="status_paused" type="object" String="Paused" attrs="{'invisible': [('status','in',('paused'))]}" class="oe_highlight"/>

						<button name="status_part" type="object" String="Parts On Order" attrs="{'invisible': [('status','in',('part'))]}" class="oe_highlight"/>

						<button name="status_parts" type="object" String="Parts Arrived"  attrs="{'invisible': [('status','in',('parts'))]}" class="oe_highlight"/>

						<button name="status_awaiting" type="object" String="Awaiting Authority" attrs="{'invisible': [('status','in',('awaiting'))]}" class="oe_highlight"/>

						<button name="status_cleaning" type="object" String="Cleaning" attrs="{'invisible': [('status','in',('cleaning'))]}" class="oe_highlight"/>

						<button name="status_cust" type="object" String="Customer Contacted" attrs="{'invisible': [('status','in',('cust'))]}" class="oe_highlight"/>

						<button name="status_work" type="object" String="Work Completed" attrs="{'invisible': [('status','in',('work'))]}" class="oe_highlight"/>

						<field name="status" widget="statusbar" 
	                     	statusbar_visible="prov,due,arr,in,paused,part,
	                     	parts,awaiting,cleaning,cust,work"/>

					</header>
					<sheet>
						<h2><field name='code'/></h2>
						<group>
							<group string = "CONTACT">
								<field name="child_ids"/>
							</group>
							<group string = "VEHICLE">	
									<field name="veh"/>
							</group>
							<group string="JOB">
								<group string="New Job Card">
									<field name="due_in"/>
									<field name="due_out"/>
									<field name="advisor"/>
									<field name="notes"/>
								</group>
							</group>
						</group>
						<footer>
							<button name="repairs_action" type="object" String="Repairs" class="oe_highlight"/>
						</footer>				
					</sheet>
				</form>
			</field>
		</record>

		<record model="ir.ui.view" id="view_create_job_tree"> 
		    <field name="name">create.job.tree</field>
		    <field name="model">create.job</field>
		    <field name="type">tree</field>
		    <field name="arch" type="xml">
				<tree string="Jobs" version="8.0">

					<field name='code' string='Number'/>
					<field name="child_ids"/>
					<field name="veh"/>
					<field name="due_in"/>
					<field name="due_out"/>
					<field name="status"/>
					<field name="advisor"/>
				</tree>
			</field>
		</record>

		<!-- calendar view -->
        <record model="ir.ui.view" id="session_calendar_view">
            <field name="name">create.job.calendar</field>
            <field name="model">create.job</field>
		    <field name="type">calendar</field>
            <field name="arch" type="xml">
                <calendar string="Session Calendar" color='child_ids' date_start="due_in"
                          date_stop="due_out">
						<!-- <field name="name"/> -->
                </calendar>
            </field>
        </record>


		<record model="ir.actions.act_window" id="action_create_form">
			<field name="name">Create Job</field>
			<field name="res_model">create.job</field>
			<field name="view_mode">tree,form,calendar</field>
			<field name="help" type="html">
  				<p class="oe_view_nocontent_create">
    				Click to create details for your Workshop Jobs...
  				</p>
   			</field>
		</record>

		<!-- Top menu -->
		<menuitem name="CarVue" id="carvue"/>

		<!-- sub menu -->
		<menuitem name="Workshop" id="workshop_menu" parent="carvue"/>
		
		<!-- menu item -->
		<menuitem name="Jobs" parent="workshop_menu" id="create_job_menu_mainform" action="action_create_form"/>

	</data>
</openerp>